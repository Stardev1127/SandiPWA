{"version":3,"sources":["webpack:///./src/app/route/CartPage/CartPage.component.js","webpack:///./src/app/route/CartPage/CartPage.style.scss"],"names":["CartPage","props","totals","items","quote_currency_code","length","__","map","item","item_id","coupon_code","block","elem","price","formatPrice","isMobile","subtotal","tax_amount","renderPriceLine","renderDiscount","subtotal_with_discount","onCheckoutButtonClick","hasOutOfStockProductsInCart","renderSecureCheckoutButton","renderTotalDetails","renderTotal","renderButtons","applied_rule_ids","discount_amount","Math","abs","toUpperCase","CROSS_SELL","window","contentConfiguration","cart_content","cart_cms","renderPromoContent","renderHeading","renderCartItems","renderDiscountCode","renderCrossSellProducts","renderPromo","renderTotals","Object","defineProperty","_CartPage","value","TotalsType","isRequired","PropTypes","func","bool"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;AAWA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;;;;AACO,IAAMA,SAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,sCAWsB;AAAA,+BACqC,KAAKC,KAD1C,CACNC,MADM;AAAA,UACIC,KADJ,sBACIA,KADJ;AAAA,UACWC,mBADX,sBACWA,mBADX;;AAGd,UAAI,CAACD,KAAD,IAAUA,KAAK,CAACE,MAAN,GAAe,CAA7B,EAAgC;AAC5B;AAAA;AAAA;AACO,iBAAK,EAAC,UADb;AACwB,gBAAI,EAAC;AAD7B,aACuCC,EAAE,CAAC,gCAAD,CADzC;AAAA;AAGH;;AAED;AAAA;AAAA;AAAA;AAAA;AAEW,eAAK,EAAC,UAFjB;AAE4B,cAAI,EAAC,WAFjC;AAE6C;AAF7C;AAAA;AAAA,uCAGoBA,EAAE,CAAC,MAAD,CAHtB;AAAA;AAAA,uCAIoBA,EAAE,CAAC,KAAD,CAJtB;AAAA;AAAA,uCAKoBA,EAAE,CAAC,UAAD,CALtB;AAAA;AAAA;AAOY,eAAK,EAAC,UAPlB;AAO6B,cAAI,EAAC,OAPlC;AAO0C,wBAAW;AAPrD,WAQcH,KAAK,CAACI,GAAN,CAAU,UAACC,IAAD;AAAA;AAAA;AAAA,6BACP,2DADO;AAEN,iBAAG,EAAGA,IAAI,CAACC,OAFL;AAGN,kBAAI,EAAGD,IAHD;AAIN,2BAAa,EAAGJ,mBAJV;AAKN,uBAAS,MALH;AAMN,yBAAW;AANL;AAAA;AAAA,SAAV,CARd;AAAA;AAoBH;AAxCL;AAAA;AAAA,yCA0CyB;AAAA,UAEHM,WAFG,GAGb,KAAKT,KAHQ,CAEbC,MAFa,CAEHQ,WAFG;AAKjB;AAAA;AAAA,yBACK,oEADL;AAEM,iBAAO,EAAGJ,EAAE,CAAC,uBAAD,CAFlB;AAGM,aAAG,EAAG;AAAEK,iBAAK,EAAE,UAAT;AAAqBC,gBAAI,EAAE;AAA3B;AAHZ;AAAA;AAAA,yBAKS,6DALT;AAKoB,oBAAU,EAAGF;AALjC;AAAA;AAQH;AAvDL;AAAA;AAAA,oCAyDoBG,KAzDpB,EAyD2B;AAAA,UACDT,mBADC,GACyB,KAAKH,KAD9B,CACXC,MADW,CACDE,mBADC;AAEnB,aAAOU,gEAAW,CAACD,KAAD,EAAQT,mBAAR,CAAlB;AACH;AA5DL;AAAA;AAAA,yCA8DyC;AAAA,UAAlBW,QAAkB,uEAAP,KAAO;AAAA,gCAM7B,KAAKd,KANwB,CAE7BC,MAF6B;AAAA,sDAGzBc,QAHyB;AAAA,UAGzBA,QAHyB,sCAGd,CAHc;AAAA,sDAIzBC,UAJyB;AAAA,UAIzBA,UAJyB,sCAIZ,CAJY;AAQjC;AAAA;AAAA;AAEM,eAAK,EAAC,UAFZ;AAGM,cAAI,EAAC,cAHX;AAIM,wBAAaX,EAAE,CAAC,qBAAD,CAJrB;AAKM,cAAI,EAAG;AAAES,oBAAQ,EAARA;AAAF;AALb;AAAA;AAAA,qCAOcT,EAAE,CAAC,WAAD,CAPhB;AAAA;AAAA,qCAQc,KAAKY,eAAL,CAAqBF,QAArB,CARd,GASU,KAAKG,cAAL,EATV;AAAA;AAAA,qCAUcb,EAAE,CAAC,MAAD,CAVhB;AAAA;AAAA,qCAWc,KAAKY,eAAL,CAAqBD,UAArB,CAXd;AAAA;AAcH;AApFL;AAAA;AAAA,kCAsFkB;AAAA,gCAMN,KAAKhB,KANC,CAENC,MAFM;AAAA,sDAGFkB,sBAHE;AAAA,UAGFA,sBAHE,sCAGuB,CAHvB;AAAA,sDAIFH,UAJE;AAAA,UAIFA,UAJE,sCAIW,CAJX;AAQV;AAAA;AAAA;AACQ,eAAK,EAAC,UADd;AACyB,cAAI,EAAC,OAD9B;AACsC,wBAAW;AADjD;AAAA;AAAA,qCAEcX,EAAE,CAAC,cAAD,CAFhB;AAAA;AAAA,qCAGc,KAAKY,eAAL,CAAqBE,sBAAsB,GAAGH,UAA9C,CAHd;AAAA;AAMH;AApGL;AAAA;AAAA,iDAsGiC;AAAA,wBACsC,KAAKhB,KAD3C;AAAA,UACjBoB,qBADiB,eACjBA,qBADiB;AAAA,UACMC,2BADN,eACMA,2BADN;;AAGzB,UAAIA,2BAAJ,EAAiC;AAC7B;AAAA;AAAA;AACS,iBAAK,EAAC,UADf;AAC0B,gBAAI,EAAC;AAD/B,aAEUhB,EAAE,CAAC,wCAAD,CAFZ;AAAA;AAKH;;AAED;AAAA;AAAA;AAEM,eAAK,EAAC,UAFZ;AAGM,cAAI,EAAC,gBAHX;AAIM,aAAG,EAAG;AAAEK,iBAAK,EAAE;AAAT,WAJZ;AAKM,iBAAO,EAAGU;AALhB;AAAA;AAAA,wCAQUf,EAAE,CAAC,iBAAD,CARZ;AAAA;AAWH;AA5HL;AAAA;AAAA,oCA8HoB;AACZ;AAAA;AAAA;AACS,eAAK,EAAC,UADf;AAC0B,cAAI,EAAC;AAD/B,WAEU,KAAKiB,0BAAL,EAFV;AAAA;AAAA,yBAGS,uDAHT;AAIU,eAAK,EAAC,UAJhB;AAKU,cAAI,EAAC,kBALf;AAMU,YAAE,EAAC;AANb,WAQcjB,EAAE,CAAC,mBAAD,CARhB;AAAA;AAYH;AA3IL;AAAA;AAAA,mCA6ImB;AACX;AAAA;AAAA;AAEM,eAAK,EAAC,UAFZ;AAGM,cAAI,EAAC,SAHX;AAIM,aAAG,EAAG;AAAEK,iBAAK,EAAE,cAAT;AAAyBC,gBAAI,EAAE;AAA/B;AAJZ;AAAA;AAAA;AAMY,eAAK,EAAC,UANlB;AAM6B,cAAI,EAAC;AANlC,WAMqDN,EAAE,CAAC,SAAD,CANvD,GAOU,KAAKkB,kBAAL,EAPV,EAQU,KAAKC,WAAL,EARV,EASU,KAAKC,aAAL,EATV;AAAA;AAYH;AA1JL;AAAA;AAAA,qCA4JqB;AAAA,gCAOT,KAAKzB,KAPI,CAETC,MAFS;AAAA,UAGLyB,gBAHK,uBAGLA,gBAHK;AAAA,UAILjB,WAJK,uBAILA,WAJK;AAAA,sDAKLkB,eALK;AAAA,UAKLA,eALK,sCAKa,CALb;;AASb,UAAI,CAACD,gBAAL,EAAuB;AACnB,eAAO,IAAP;AACH;;AAED,UAAI,CAACjB,WAAL,EAAkB;AACd;AAAA;AAAA;AAAA;AAAA,uCAGcJ,EAAE,CAAC,YAAD,CAHhB;AAAA;AAAA,kDAKkB,KAAKY,eAAL,CAAqBW,IAAI,CAACC,GAAL,CAASF,eAAT,CAArB,CALlB;AAAA;AAQH;;AAED;AAAA;AAAA;AAAA;AAAA,qCAGctB,EAAE,CAAC,kBAAD,CAHhB;AAAA;AAAA;AAIoB,eAAK,EAAC,UAJ1B;AAIqC,cAAI,EAAC;AAJ1C,WAI6DI,WAAW,CAACqB,WAAZ,EAJ7D;AAAA;AAAA,gDAMkB,KAAKb,eAAL,CAAqBW,IAAI,CAACC,GAAL,CAASF,eAAT,CAArB,CANlB;AAAA;AASH;AA7LL;AAAA;AAAA,8CA+L8B;AACtB;AAAA;AAAA,yBACK,+DADL;AAEM,kBAAQ,EAAGI,uFAFjB;AAGM,eAAK,EAAG1B,EAAE,CAAC,4BAAD;AAHhB;AAAA;AAMH;AAtML;AAAA;AAAA,yCAwMyB;AAAA,kCAC2B2B,MAAM,CAACC,oBADlC,CACTC,YADS;AAAA,iEACoB,EADpB;AAAA,UACOC,QADP,yBACOA,QADP;;AAGjB,UAAIA,QAAJ,EAAc;AACV;AAAA;AAAA,2BAAQ,2DAAR;AAAiB,sBAAU,EAAGA;AAA9B;AAAA;AACH;;AAED;AAAA;AAAA;AAEM,eAAK,EAAC,UAFZ;AAGM,cAAI,EAAC;AAHX;AAAA;AAAA;AAKoB,eAAK,EAAC,UAL1B;AAKqC,cAAI,EAAC;AAL1C,WAMc9B,EAAE,CAAC,sCAAD,CANhB;AAAA;AAUH;AAzNL;AAAA;AAAA,kCA2NkB;AACV;AAAA;AAAA;AAEM,eAAK,EAAC,UAFZ;AAGM,cAAI,EAAC;AAHX,WAKU,KAAK+B,kBAAL,EALV;AAAA;AAQH;AApOL;AAAA;AAAA,oCAsOoB;AACZ;AAAA;AAAA;AACQ,eAAK,EAAC,UADd;AACyB,cAAI,EAAC;AAD9B,WAEU/B,EAAE,CAAC,eAAD,CAFZ;AAAA;AAKH;AA5OL;AAAA;AAAA,6BA8Oa;AACL;AAAA;AAAA;AACU,eAAK,EAAC,UADhB;AAC2B,wBAAW;AADtC;AAAA;AAAA,yBAES,iEAFT;AAGU,oBAAU,EAAG;AAAEK,iBAAK,EAAE,UAAT;AAAqBC,gBAAI,EAAE;AAA3B,WAHvB;AAIU,eAAK,EAAC;AAJhB;AAAA;AAAA;AAMiB,eAAK,EAAC,UANvB;AAMkC,cAAI,EAAC;AANvC,WAOkB,KAAK0B,aAAL,EAPlB,EAQkB,KAAKC,eAAL,EARlB,EASkB,KAAKf,kBAAL,CAAwB,IAAxB,CATlB,EAUkB,KAAKgB,kBAAL,EAVlB,EAWkB,KAAKC,uBAAL,EAXlB;AAAA;AAAA;AAaiB,eAAK,EAAC,UAbvB;AAakC,cAAI,EAAC;AAbvC,WAckB,KAAKC,WAAL,EAdlB,EAekB,KAAKC,YAAL,EAflB;AAAA;AAoBH;AAnQL;;AAAA;AAAA;AA5BAC,MAAM,CAACC,cAAP,CAAsBC,SAAtB,EAAiC,MAAjC,EAAyC;AAAEC,OAAK,EAAE;AAAT,CAAzC;;;;gBA4Ba/C,Q,eACU;AACfE,QAAM,EAAE8C,0DAAU,CAACC,UADJ;AAEf5B,uBAAqB,EAAE6B,iDAAS,CAACC,IAAV,CAAeF,UAFvB;AAGf3B,6BAA2B,EAAE4B,iDAAS,CAACE;AAHxB,C;;gBADVpD,Q,kBAOa;AAClBsB,6BAA2B,EAAE;AADX,C;;AA+PXtB,uEAAf,E;;;;;;;;;;;;AClSA;AACA,OAAO,IAAU;AACjB;AACA,sBAAsB,mBAAO,CAAC,8HAAkE,EAAE,QAAS,GAAG,YAAY,SAAS,EAAE;AACrI;AACA;AACA","file":"cart.852398837cad8beb1dc3.hot-update.js","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport CartCoupon from 'Component/CartCoupon';\nimport CartItem from 'Component/CartItem';\nimport CmsBlock from 'Component/CmsBlock';\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Link from 'Component/Link';\nimport ProductLinks from 'Component/ProductLinks';\nimport { CROSS_SELL } from 'Store/LinkedProducts/LinkedProducts.reducer';\nimport { TotalsType } from 'Type/MiniCart';\nimport { formatPrice } from 'Util/Price';\n\nimport './CartPage.style';\n\n/** @namespace Route/CartPage/Component */\nexport class CartPage extends PureComponent {\n    static propTypes = {\n        totals: TotalsType.isRequired,\n        onCheckoutButtonClick: PropTypes.func.isRequired,\n        hasOutOfStockProductsInCart: PropTypes.bool\n    };\n\n    static defaultProps = {\n        hasOutOfStockProductsInCart: false\n    };\n\n    renderCartItems() {\n        const { totals: { items, quote_currency_code } } = this.props;\n\n        if (!items || items.length < 1) {\n            return (\n                <p block=\"CartPage\" elem=\"Empty\">{ __('There are no products in cart.') }</p>\n            );\n        }\n\n        return (\n            <>\n                <p block=\"CartPage\" elem=\"TableHead\" aria-hidden>\n                    <span>{ __('item') }</span>\n                    <span>{ __('qty') }</span>\n                    <span>{ __('subtotal') }</span>\n                </p>\n                <ul block=\"CartPage\" elem=\"Items\" aria-label=\"List of items in cart\">\n                    { items.map((item) => (\n                        <CartItem\n                          key={ item.item_id }\n                          item={ item }\n                          currency_code={ quote_currency_code }\n                          isEditing\n                          isLikeTable\n                        />\n                    )) }\n                </ul>\n            </>\n        );\n    }\n\n    renderDiscountCode() {\n        const {\n            totals: { coupon_code }\n        } = this.props;\n\n        return (\n            <ExpandableContent\n              heading={ __('Have a discount code?') }\n              mix={ { block: 'CartPage', elem: 'Discount' } }\n            >\n                <CartCoupon couponCode={ coupon_code } />\n            </ExpandableContent>\n        );\n    }\n\n    renderPriceLine(price) {\n        const { totals: { quote_currency_code } } = this.props;\n        return formatPrice(price, quote_currency_code);\n    }\n\n    renderTotalDetails(isMobile = false) {\n        const {\n            totals: {\n                subtotal = 0,\n                tax_amount = 0\n            }\n        } = this.props;\n\n        return (\n            <dl\n              block=\"CartPage\"\n              elem=\"TotalDetails\"\n              aria-label={ __('Order total details') }\n              mods={ { isMobile } }\n            >\n                <dt>{ __('Subtotal:') }</dt>\n                <dd>{ this.renderPriceLine(subtotal) }</dd>\n                { this.renderDiscount() }\n                <dt>{ __('Tax:') }</dt>\n                <dd>{ this.renderPriceLine(tax_amount) }</dd>\n            </dl>\n        );\n    }\n\n    renderTotal() {\n        const {\n            totals: {\n                subtotal_with_discount = 0,\n                tax_amount = 0\n            }\n        } = this.props;\n\n        return (\n            <dl block=\"CartPage\" elem=\"Total\" aria-label=\"Complete order total\">\n                <dt>{ __('Order total:') }</dt>\n                <dd>{ this.renderPriceLine(subtotal_with_discount + tax_amount) }</dd>\n            </dl>\n        );\n    }\n\n    renderSecureCheckoutButton() {\n        const { onCheckoutButtonClick, hasOutOfStockProductsInCart } = this.props;\n\n        if (hasOutOfStockProductsInCart) {\n            return (\n                <div block=\"CartPage\" elem=\"OutOfStockProductsWarning\">\n                    { __('Remove out of stock products from cart') }\n                </div>\n            );\n        }\n\n        return (\n            <button\n              block=\"CartPage\"\n              elem=\"CheckoutButton\"\n              mix={ { block: 'Button' } }\n              onClick={ onCheckoutButtonClick }\n            >\n                <span />\n                { __('Secure checkout') }\n            </button>\n        );\n    }\n\n    renderButtons() {\n        return (\n            <div block=\"CartPage\" elem=\"CheckoutButtons\">\n                { this.renderSecureCheckoutButton() }\n                <Link\n                  block=\"CartPage\"\n                  elem=\"ContinueShopping\"\n                  to=\"/\"\n                >\n                    { __('Continue shopping') }\n                </Link>\n            </div>\n        );\n    }\n\n    renderTotals() {\n        return (\n            <article\n              block=\"CartPage\"\n              elem=\"Summary\"\n              mix={ { block: 'FixedElement', elem: 'Bottom' } }\n            >\n                <h4 block=\"CartPage\" elem=\"SummaryHeading\">{ __('Summary') }</h4>\n                { this.renderTotalDetails() }\n                { this.renderTotal() }\n                { this.renderButtons() }\n            </article>\n        );\n    }\n\n    renderDiscount() {\n        const {\n            totals: {\n                applied_rule_ids,\n                coupon_code,\n                discount_amount = 0\n            }\n        } = this.props;\n\n        if (!applied_rule_ids) {\n            return null;\n        }\n\n        if (!coupon_code) {\n            return (\n                <>\n                    <dt>\n                        { __('Discount: ') }\n                    </dt>\n                    <dd>{ `-${this.renderPriceLine(Math.abs(discount_amount))}` }</dd>\n                </>\n            );\n        }\n\n        return (\n            <>\n                <dt>\n                    { __('Discount/Coupon ') }\n                    <strong block=\"CartPage\" elem=\"DiscountCoupon\">{ coupon_code.toUpperCase() }</strong>\n                </dt>\n                <dd>{ `-${this.renderPriceLine(Math.abs(discount_amount))}` }</dd>\n            </>\n        );\n    }\n\n    renderCrossSellProducts() {\n        return (\n            <ProductLinks\n              linkType={ CROSS_SELL }\n              title={ __('Frequently bought together') }\n            />\n        );\n    }\n\n    renderPromoContent() {\n        const { cart_content: { cart_cms } = {} } = window.contentConfiguration;\n\n        if (cart_cms) {\n            return <CmsBlock identifier={ cart_cms } />;\n        }\n\n        return (\n            <figure\n              block=\"CartPage\"\n              elem=\"PromoBlock\"\n            >\n                <figcaption block=\"CartPage\" elem=\"PromoText\">\n                    { __('Free shipping on order 49$ and more.') }\n                </figcaption>\n            </figure>\n        );\n    }\n\n    renderPromo() {\n        return (\n            <div\n              block=\"CartPage\"\n              elem=\"Promo\"\n            >\n                { this.renderPromoContent() }\n            </div>\n        );\n    }\n\n    renderHeading() {\n        return (\n            <h1 block=\"CartPage\" elem=\"Heading\">\n                { __('Shopping cart') }\n            </h1>\n        );\n    }\n\n    render() {\n        return (\n            <main block=\"CartPage\" aria-label=\"Cart Page\">\n                <ContentWrapper\n                  wrapperMix={ { block: 'CartPage', elem: 'Wrapper' } }\n                  label=\"Cart page details\"\n                >\n                    <div block=\"CartPage\" elem=\"Static\">\n                        { this.renderHeading() }\n                        { this.renderCartItems() }\n                        { this.renderTotalDetails(true) }\n                        { this.renderDiscountCode() }\n                        { this.renderCrossSellProducts() }\n                    </div>\n                    <div block=\"CartPage\" elem=\"Floating\">\n                        { this.renderPromo() }\n                        { this.renderTotals() }\n                    </div>\n                </ContentWrapper>\n            </main>\n        );\n    }\n}\n\nexport default CartPage;\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1605720109002\n      var cssReload = require(\"!../../../../node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  "],"sourceRoot":""}