{"version":3,"sources":["webpack:///./src/app/component/CookiePopup/CookiePopup.component.js"],"names":["CookiePopup","isAccepted","getAcceptCookieValue","code","props","param","COOKIE_POPUP","BrowserDatabase","setItem","ONE_MONTH_IN_SECONDS","setState","getItem","cookieLink","__","cookieText","renderCookieLink","acceptCookies","state","block","elem","renderCookieText","renderCTA","cookieScript","console","log","createPortal","document","body","renderDefaultPopup","Object","defineProperty","_CookiePopup","value","PropTypes","string"],"mappings":"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","file":"bundle.bb98a1e3ac1362faa149.hot-update.js","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport Html from 'Component/Html';\nimport Link from 'Component/Link';\nimport BrowserDatabase from 'Util/BrowserDatabase';\nimport { ONE_MONTH_IN_SECONDS } from 'Util/Request/QueryDispatcher';\n\nimport { COOKIE_POPUP } from './CookiePopup.config';\n\nimport './CookiePopup.style';\n\n/** @namespace Component/CookiePopup/Component */\nexport class CookiePopup extends PureComponent {\n    static propTypes = {\n        cookieText: PropTypes.string,\n        cookieLink: PropTypes.string,\n        cookieScript: PropTypes.string,\n        code: PropTypes.string\n    };\n\n    static defaultProps = {\n        cookieText: '',\n        cookieLink: '',\n        cookieScript: '<script type=\"text/javascript\" async=\"\" id=\"consent-file\" src=\"https://policy.app.cookieinformation.com/80af9b/dk.sofacompany.com/da.js\" charSet=\"UTF-8\" />',\n        code: ''\n    };\n\n    state = {\n        isAccepted: this.getAcceptCookieValue()\n    };\n\n    getAcceptCookieValue() {\n        const { code } = this.props;\n        const param = `${ COOKIE_POPUP }_${ code }`;\n\n        return !!BrowserDatabase.getItem(param);\n    }\n\n    acceptCookies = () => {\n        const { code } = this.props;\n        const param = `${ COOKIE_POPUP }_${ code }`;\n\n        BrowserDatabase.setItem(true, param, ONE_MONTH_IN_SECONDS);\n        this.setState({ isAccepted: true });\n    };\n\n    renderCookieLink() {\n        const { cookieLink } = this.props;\n\n        if (!cookieLink) {\n            return null;\n        }\n\n        return (\n            <Link\n              block=\"CookiePopup\"\n              elem=\"Link\"\n              to={ cookieLink }\n            >\n                { __('Read more') }\n            </Link>\n        );\n    }\n\n    renderCookieText() {\n        const { cookieText } = this.props;\n\n        return (\n            <p block=\"CookiePopup\" elem=\"Content\">\n                { cookieText }\n                { this.renderCookieLink() }\n            </p>\n        );\n    }\n\n    renderCTA() {\n        return (\n            <div block=\"CookiePopup\" elem=\"CTA\">\n                <button block=\"Button\" onClick={ this.acceptCookies }>\n                    { __('Accept') }\n                </button>\n            </div>\n        );\n    }\n\n    renderDefaultPopup() {\n        const { cookieText } = this.props;\n        const { isAccepted } = this.state;\n\n        if (!cookieText || isAccepted) {\n            return null;\n        }\n\n        return (\n            <div block=\"CookiePopup\">\n                <ContentWrapper\n                  label=\"Cookie popup\"\n                  mix={ { block: 'CookiePopup', elem: 'Wrapper' } }\n                  wrapperMix={ { block: 'CookiePopup', elem: 'ContentWrapper' } }\n                >\n                    { this.renderCookieText() }\n                    { this.renderCTA() }\n                </ContentWrapper>\n            </div>\n        );\n    }\n\n    render() {\n        const { cookieScript } = this.props;\n\n        console.log(typeof cookieScript);\n\n        if (cookieScript !== '') {\n            return createPortal(\n                <Html content={ cookieScript } />,\n                document.body\n            );\n        }\n\n        return this.renderDefaultPopup();\n    }\n}\n\nexport default CookiePopup;\n"],"sourceRoot":""}