{"version":3,"sources":["webpack:///./src/app/component/CookiePopup/CookiePopup.component.js"],"names":["CookiePopup","isAccepted","BrowserDatabase","getItem","COOKIE_POPUP","props","code","setItem","ONE_MONTH_IN_SECONDS","setState","cookieLink","__","cookieText","renderCookieLink","acceptCookies","state","block","elem","renderCookieText","renderCTA","Object","defineProperty","_CookiePopup","value","PropTypes","string","isRequired"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;AAWA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;;;;AACO,IAAMA,YAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,4DAaY;AAAEC,gBAAU,EAAEC,6DAAe,CAACC,OAAhB,WAA2BC,gEAA3B,cAA2C,MAAKC,KAAL,CAAWC,IAAtD,MAAiE;AAA/E,KAbZ;;AAAA,oEAeoB,YAAM;AAAA,UACVA,IADU,GACD,MAAKD,KADJ,CACVC,IADU;AAGlBJ,mEAAe,CAACK,OAAhB,CAAwB,IAAxB,YAAiCH,gEAAjC,cAAiDE,IAAjD,GAAyDE,kFAAzD;;AACA,YAAKC,QAAL,CAAc;AAAER,kBAAU,EAAE;AAAd,OAAd;AACH,KApBL;;AAAA;AAAA;;AAAA;AAAA;AAAA,uCAsBuB;AAAA,UACPS,UADO,GACQ,KAAKL,KADb,CACPK,UADO;;AAGf,UAAI,CAACA,UAAL,EAAiB;AACb,eAAO,IAAP;AACH;;AAED;AAAA;AAAA,yBACK,6CADL;AAEM,eAAK,EAAC,aAFZ;AAGM,cAAI,EAAC,MAHX;AAIM,YAAE,EAAGA;AAJX,WAMUC,EAAE,CAAC,WAAD,CANZ;AAAA;AASH;AAtCL;AAAA;AAAA,uCAwCuB;AAAA,UACPC,UADO,GACQ,KAAKP,KADb,CACPO,UADO;AAGf;AAAA;AAAA;AACO,eAAK,EAAC,aADb;AAC2B,cAAI,EAAC;AADhC,WAEUA,UAFV,EAGU,KAAKC,gBAAL,EAHV;AAAA;AAMH;AAjDL;AAAA;AAAA,gCAmDgB;AACR;AAAA;AAAA;AACS,eAAK,EAAC,aADf;AAC6B,cAAI,EAAC;AADlC;AAAA;AAAA;AAEgB,eAAK,EAAC,QAFtB;AAE+B,iBAAO,EAAG,KAAKC;AAF9C,WAGcH,EAAE,CAAC,QAAD,CAHhB;AAAA;AAOH;AA3DL;AAAA;AAAA,6BA6Da;AAAA,UACGC,UADH,GACkB,KAAKP,KADvB,CACGO,UADH;AAAA,UAEGX,UAFH,GAEkB,KAAKc,KAFvB,CAEGd,UAFH;;AAIL,UAAI,CAACW,UAAD,IAAeX,UAAnB,EAA+B;AAC3B,eAAO,IAAP;AACH;;AAED;AAAA;AAAA;AACS,eAAK,EAAC;AADf;AAAA;AAAA,yBAES,uDAFT;AAGU,eAAK,EAAC,cAHhB;AAIU,aAAG,EAAG;AAAEe,iBAAK,EAAE,aAAT;AAAwBC,gBAAI,EAAE;AAA9B,WAJhB;AAKU,oBAAU,EAAG;AAAED,iBAAK,EAAE,aAAT;AAAwBC,gBAAI,EAAE;AAA9B;AALvB,WAOc,KAAKC,gBAAL,EAPd,EAQc,KAAKC,SAAL,EARd;AAAA;AAYH;AAjFL;;AAAA;AAAA;AAxBAC,MAAM,CAACC,cAAP,CAAsBC,YAAtB,EAAoC,MAApC,EAA4C;AAAEC,OAAK,EAAE;AAAT,CAA5C;;;;gBAwBavB,W,eACU;AACfY,YAAU,EAAEY,iDAAS,CAACC,MADP;AAEff,YAAU,EAAEc,iDAAS,CAACC,MAFP;AAGfnB,MAAI,EAAEkB,iDAAS,CAACC,MAAV,CAAiBC;AAHR,C;;gBADV1B,W,kBAOa;AAClBY,YAAU,EAAE,EADM;AAElBF,YAAU,EAAE;AAFM,C;;AA6EXV,0EAAf,E","file":"bundle.26a4eacd796fe3f35d73.hot-update.js","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport Link from 'Component/Link';\nimport BrowserDatabase from 'Util/BrowserDatabase';\nimport { ONE_MONTH_IN_SECONDS } from 'Util/Request/QueryDispatcher';\n\nimport { COOKIE_POPUP } from './CookiePopup.config';\n\nimport './CookiePopup.style';\n\n/** @namespace Component/CookiePopup/Component */\nexport class CookiePopup extends PureComponent {\n    static propTypes = {\n        cookieText: PropTypes.string,\n        cookieLink: PropTypes.string,\n        code: PropTypes.string.isRequired\n    };\n\n    static defaultProps = {\n        cookieText: '',\n        cookieLink: ''\n    };\n\n    // eslint-disable-next-line react/destructuring-assignment\n    state = { isAccepted: BrowserDatabase.getItem(`${COOKIE_POPUP}_${this.props.code}`) || false };\n\n    acceptCookies = () => {\n        const { code } = this.props;\n\n        BrowserDatabase.setItem(true, `${COOKIE_POPUP}_${code}`, ONE_MONTH_IN_SECONDS);\n        this.setState({ isAccepted: true });\n    };\n\n    renderCookieLink() {\n        const { cookieLink } = this.props;\n\n        if (!cookieLink) {\n            return null;\n        }\n\n        return (\n            <Link\n              block=\"CookiePopup\"\n              elem=\"Link\"\n              to={ cookieLink }\n            >\n                { __('Read more') }\n            </Link>\n        );\n    }\n\n    renderCookieText() {\n        const { cookieText } = this.props;\n\n        return (\n            <p block=\"CookiePopup\" elem=\"Content\">\n                { cookieText }\n                { this.renderCookieLink() }\n            </p>\n        );\n    }\n\n    renderCTA() {\n        return (\n            <div block=\"CookiePopup\" elem=\"CTA\">\n                <button block=\"Button\" onClick={ this.acceptCookies }>\n                    { __('Accept') }\n                </button>\n            </div>\n        );\n    }\n\n    render() {\n        const { cookieText } = this.props;\n        const { isAccepted } = this.state;\n\n        if (!cookieText || isAccepted) {\n            return null;\n        }\n\n        return (\n            <div block=\"CookiePopup\">\n                <ContentWrapper\n                  label=\"Cookie popup\"\n                  mix={ { block: 'CookiePopup', elem: 'Wrapper' } }\n                  wrapperMix={ { block: 'CookiePopup', elem: 'ContentWrapper' } }\n                >\n                    { this.renderCookieText() }\n                    { this.renderCTA() }\n                </ContentWrapper>\n            </div>\n        );\n    }\n}\n\nexport default CookiePopup;\n"],"sourceRoot":""}