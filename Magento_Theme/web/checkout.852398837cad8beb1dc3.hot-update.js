webpackHotUpdate("checkout",{

/***/ "./src/app/component/Braintree/Braintree.style.scss":
/*!**********************************************************!*\
  !*** ./src/app/component/Braintree/Braintree.style.scss ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720115139
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/component/CheckoutAddressBook/CheckoutAddressBook.style.scss":
/*!******************************************************************************!*\
  !*** ./src/app/component/CheckoutAddressBook/CheckoutAddressBook.style.scss ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720114981
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/component/CheckoutAddressTable/CheckoutAddressTable.style.scss":
/*!********************************************************************************!*\
  !*** ./src/app/component/CheckoutAddressTable/CheckoutAddressTable.style.scss ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720115333
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/component/CheckoutBilling/CheckoutBilling.style.scss":
/*!**********************************************************************!*\
  !*** ./src/app/component/CheckoutBilling/CheckoutBilling.style.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720114504
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/component/CheckoutDeliveryOption/CheckoutDeliveryOption.style.scss":
/*!************************************************************************************!*\
  !*** ./src/app/component/CheckoutDeliveryOption/CheckoutDeliveryOption.style.scss ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720115228
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/component/CheckoutDeliveryOptions/CheckoutDeliveryOptions.style.scss":
/*!**************************************************************************************!*\
  !*** ./src/app/component/CheckoutDeliveryOptions/CheckoutDeliveryOptions.style.scss ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720114850
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/component/CheckoutGuestForm/CheckoutGuestForm.component.js":
/*!****************************************************************************!*\
  !*** ./src/app/component/CheckoutGuestForm/CheckoutGuestForm.component.js ***!
  \****************************************************************************/
/*! exports provided: _CheckoutGuestForm, CheckoutGuestForm, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(Extensible, __, React, middleware) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_CheckoutGuestForm", function() { return _CheckoutGuestForm; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckoutGuestForm", function() { return CheckoutGuestForm; });
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Field */ "./src/app/component/Field/index.js");
/* harmony import */ var _FieldForm_FieldForm_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../FieldForm/FieldForm.component */ "./src/app/component/FieldForm/FieldForm.component.js");
/* harmony import */ var _FormPortal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../FormPortal */ "./src/app/component/FormPortal/index.js");
/* harmony import */ var _MyAccountConfirmEmail__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MyAccountConfirmEmail */ "./src/app/component/MyAccountConfirmEmail/index.js");
/* harmony import */ var _MyAccountForgotPassword__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../MyAccountForgotPassword */ "./src/app/component/MyAccountForgotPassword/index.js");
/* harmony import */ var _MyAccountForgotPasswordSuccess__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../MyAccountForgotPasswordSuccess */ "./src/app/component/MyAccountForgotPasswordSuccess/index.js");
/* harmony import */ var _MyAccountOverlay_MyAccountOverlay_config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../MyAccountOverlay/MyAccountOverlay.config */ "./src/app/component/MyAccountOverlay/MyAccountOverlay.config.js");
/* harmony import */ var _MyAccountSignIn__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../MyAccountSignIn */ "./src/app/component/MyAccountSignIn/index.js");
/* harmony import */ var _CheckoutGuestForm_style__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CheckoutGuestForm.style */ "./src/app/component/CheckoutGuestForm/CheckoutGuestForm.style.scss");
/* harmony import */ var _CheckoutGuestForm_style__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_CheckoutGuestForm_style__WEBPACK_IMPORTED_MODULE_9__);
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * ScandiPWA - Progressive Web App for Magento
 *
 * Copyright © Scandiweb, Inc. All rights reserved.
 * See LICENSE for license details.
 *
 * @license OSL-3.0 (Open Software License ("OSL") v. 3.0)
 * @package scandipwa/base-theme
 * @link https://github.com/scandipwa/base-theme
 */










/** @namespace Component/CheckoutGuestForm/Component */

var _checkBEM = __webpack_require__(/*! babel-plugin-transform-rebem-jsx */ "./node_modules/babel-plugin-transform-rebem-jsx/build/index.js").checkBEMProps;

var _CheckoutGuestForm =
/*#__PURE__*/
function (_Extensible) {
  _inherits(_CheckoutGuestForm, _Extensible);

  function _CheckoutGuestForm() {
    var _getPrototypeOf2, _defineProperty2;

    var _this;

    _classCallCheck(this, _CheckoutGuestForm);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(_CheckoutGuestForm)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "renderMap", (_defineProperty2 = {}, _defineProperty(_defineProperty2, _MyAccountOverlay_MyAccountOverlay_config__WEBPACK_IMPORTED_MODULE_7__["STATE_SIGN_IN"], {
      render: function render() {
        return _this.renderSignIn();
      },
      title: __('Sign in to your account')
    }), _defineProperty(_defineProperty2, _MyAccountOverlay_MyAccountOverlay_config__WEBPACK_IMPORTED_MODULE_7__["STATE_FORGOT_PASSWORD"], {
      render: function render() {
        return _this.renderForgotPassword();
      },
      title: __('Get password link')
    }), _defineProperty(_defineProperty2, _MyAccountOverlay_MyAccountOverlay_config__WEBPACK_IMPORTED_MODULE_7__["STATE_FORGOT_PASSWORD_SUCCESS"], {
      render: function render() {
        return _this.renderForgotPasswordSuccess();
      }
    }), _defineProperty(_defineProperty2, _MyAccountOverlay_MyAccountOverlay_config__WEBPACK_IMPORTED_MODULE_7__["STATE_LOGGED_IN"], {
      render: function render() {}
    }), _defineProperty(_defineProperty2, _MyAccountOverlay_MyAccountOverlay_config__WEBPACK_IMPORTED_MODULE_7__["STATE_CONFIRM_EMAIL"], {
      render: function render() {
        return _this.renderConfirmEmail();
      },
      title: __('Confirm the email')
    }), _defineProperty(_defineProperty2, '', {
      render: function render() {
        return _this.renderGuestForm();
      },
      title: __('Enter personal information')
    }), _defineProperty2));

    return _this;
  }

  _createClass(_CheckoutGuestForm, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props = this.props,
          isEmailAvailable = _this$props.isEmailAvailable,
          setSignInState = _this$props.setSignInState,
          signInState = _this$props.signInState;
      var prevIsEmailAvailable = prevProps.isEmailAvailable;

      if (!isEmailAvailable && prevIsEmailAvailable && signInState !== _MyAccountOverlay_MyAccountOverlay_config__WEBPACK_IMPORTED_MODULE_7__["STATE_SIGN_IN"]) {
        setSignInState(_MyAccountOverlay_MyAccountOverlay_config__WEBPACK_IMPORTED_MODULE_7__["STATE_SIGN_IN"]);
      }
    }
  }, {
    key: "renderHeading",
    value: function renderHeading() {
      return (
        /*#__PURE__*/
        _checkBEM(React, "h2", {
          block: "Checkout",
          elem: "Heading"
        }, __('Enter personal information'))
      );
    }
  }, {
    key: "renderCreateUserCheckbox",
    value: function renderCreateUserCheckbox() {
      var _this$props2 = this.props,
          isCreateUser = _this$props2.isCreateUser,
          handleCreateUser = _this$props2.handleCreateUser,
          isEmailConfirmationRequired = _this$props2.isEmailConfirmationRequired; // if email confirmation required and user is not logged in
      // the user is 100% not logged in (we are in the guest form)
      // do not show the checkbox to create the user account

      if (isEmailConfirmationRequired) {
        return null;
      }

      return (
        /*#__PURE__*/
        _checkBEM(React, _Field__WEBPACK_IMPORTED_MODULE_1__["default"], {
          type: "checkbox",
          label: __('Create free account and keep track of your orders'),
          id: "guest_create_user",
          name: "guest_create_user",
          value: isCreateUser,
          skipValue: true,
          onChange: handleCreateUser
        })
      );
    }
  }, {
    key: "renderSignIn",
    value: function renderSignIn() {
      var _this$props3 = this.props,
          signInState = _this$props3.signInState,
          onFormError = _this$props3.onFormError,
          handleForgotPassword = _this$props3.handleForgotPassword,
          handleCreateAccount = _this$props3.handleCreateAccount,
          setLoadingState = _this$props3.setLoadingState,
          onSignIn = _this$props3.onSignIn,
          emailValue = _this$props3.emailValue,
          handleEmailInput = _this$props3.handleEmailInput,
          setSignInState = _this$props3.setSignInState;
      return (
        /*#__PURE__*/
        _checkBEM(React, _MyAccountSignIn__WEBPACK_IMPORTED_MODULE_8__["default"], {
          state: signInState,
          onFormError: onFormError,
          handleForgotPassword: handleForgotPassword,
          handleCreateAccount: handleCreateAccount,
          isCheckout: true,
          handleEmailInput: handleEmailInput,
          setSignInState: setSignInState,
          emailValue: emailValue,
          setLoadingState: setLoadingState,
          onSignIn: onSignIn
        })
      );
    }
  }, {
    key: "renderConfirmEmail",
    value: function renderConfirmEmail() {
      var _this$props4 = this.props,
          signInState = _this$props4.signInState,
          handleSignIn = _this$props4.handleSignIn;
      return (
        /*#__PURE__*/
        _checkBEM(React, _MyAccountConfirmEmail__WEBPACK_IMPORTED_MODULE_4__["default"], {
          state: signInState,
          handleSignIn: handleSignIn
        })
      );
    }
  }, {
    key: "renderForgotPassword",
    value: function renderForgotPassword() {
      var _this$props5 = this.props,
          signInState = _this$props5.signInState,
          onFormError = _this$props5.onFormError,
          handleSignIn = _this$props5.handleSignIn,
          handleCreateAccount = _this$props5.handleCreateAccount,
          setSignInState = _this$props5.setSignInState,
          setLoadingState = _this$props5.setLoadingState;
      return (
        /*#__PURE__*/
        _checkBEM(React, _MyAccountForgotPassword__WEBPACK_IMPORTED_MODULE_5__["default"], {
          state: signInState,
          onFormError: onFormError,
          handleSignIn: handleSignIn,
          handleCreateAccount: handleCreateAccount,
          setLoadingState: setLoadingState,
          setSignInState: setSignInState,
          isCheckout: true
        })
      );
    }
  }, {
    key: "renderForgotPasswordSuccess",
    value: function renderForgotPasswordSuccess() {
      var _this$props6 = this.props,
          signInState = _this$props6.signInState,
          handleSignIn = _this$props6.handleSignIn;
      return (
        /*#__PURE__*/
        _checkBEM(React, _MyAccountForgotPasswordSuccess__WEBPACK_IMPORTED_MODULE_6__["default"], {
          state: signInState,
          handleSignIn: handleSignIn
        })
      );
    }
  }, {
    key: "renderSignInForm",
    value: function renderSignInForm() {
      var _this$props7 = this.props,
          signInState = _this$props7.signInState,
          onFormError = _this$props7.onFormError,
          handleForgotPassword = _this$props7.handleForgotPassword,
          handleCreateAccount = _this$props7.handleCreateAccount,
          isCheckout = _this$props7.isCheckout,
          setLoadingState = _this$props7.setLoadingState,
          onSignIn = _this$props7.onSignIn;
      return (
        /*#__PURE__*/
        _checkBEM(React, _MyAccountSignIn__WEBPACK_IMPORTED_MODULE_8__["default"], {
          state: signInState,
          onFormError: onFormError,
          handleForgotPassword: handleForgotPassword,
          handleCreateAccount: handleCreateAccount,
          isCheckout: isCheckout,
          setLoadingState: setLoadingState,
          onSignIn: onSignIn
        })
      );
    }
  }, {
    key: "renderGuestForm",
    value: function renderGuestForm() {
      var formId = this.props.formId;
      return (
        /*#__PURE__*/
        _checkBEM(React, React.Fragment, null, this.renderHeading(),
        /*#__PURE__*/
        _checkBEM(React, _FormPortal__WEBPACK_IMPORTED_MODULE_3__["default"], {
          id: formId,
          name: "CheckoutGuestForm"
        }, this.renderFields(), this.renderCreateUserCheckbox()))
      );
    }
  }, {
    key: "renderForm",
    value: function renderForm() {
      var signInState = this.props.signInState;
      var render = this.renderMap[signInState].render;
      return render();
    }
  }, {
    key: "render",
    value: function render() {
      return (
        /*#__PURE__*/
        _checkBEM(React, "div", {
          block: "CheckoutGuestForm",
          mix: {
            block: 'FieldForm'
          }
        }, this.renderForm())
      );
    }
  }, {
    key: "fieldMap",
    get: function get() {
      var _this$props8 = this.props,
          handleEmailInput = _this$props8.handleEmailInput,
          handlePasswordInput = _this$props8.handlePasswordInput,
          formId = _this$props8.formId,
          isCreateUser = _this$props8.isCreateUser,
          emailValue = _this$props8.emailValue;
      var fields = {
        guest_email: {
          form: formId,
          label: __('Email'),
          validation: ['notEmpty', 'email'],
          onChange: handleEmailInput,
          skipValue: true,
          value: emailValue
        }
      };

      if (isCreateUser) {
        fields.guest_password = {
          form: formId,
          label: __('Create Password'),
          onChange: handlePasswordInput,
          validation: ['notEmpty', 'password'],
          type: 'password',
          skipValue: true
        };
      }

      return fields;
    }
  }]);

  return _CheckoutGuestForm;
}(Extensible(_FieldForm_FieldForm_component__WEBPACK_IMPORTED_MODULE_2__["default"]));
Object.defineProperty(_CheckoutGuestForm, 'name', {
  value: 'CheckoutGuestForm'
});

var CheckoutGuestForm = middleware(_CheckoutGuestForm, "Component/CheckoutGuestForm/Component");

_defineProperty(CheckoutGuestForm, "propTypes", {
  formId: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,
  handleEmailInput: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,
  handleCreateUser: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,
  isEmailAvailable: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool.isRequired,
  emailValue: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,
  signInState: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,
  setSignInState: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (CheckoutGuestForm);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/config/Extensibility/Middleware/Extensible */ "./src/config/Extensibility/Middleware/Extensible.js"), __webpack_require__(/*! ./src/config/TranslationFunction */ "./src/config/TranslationFunction/index.js"), __webpack_require__(/*! react */ "./node_modules/react/index.js"), __webpack_require__(/*! ./src/config/Extensibility/Middleware */ "./src/config/Extensibility/Middleware/index.js")))

/***/ }),

/***/ "./src/app/component/CheckoutGuestForm/CheckoutGuestForm.style.scss":
/*!**************************************************************************!*\
  !*** ./src/app/component/CheckoutGuestForm/CheckoutGuestForm.style.scss ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720114323
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/component/CheckoutOrderSummary/CheckoutOrderSummary.style.scss":
/*!********************************************************************************!*\
  !*** ./src/app/component/CheckoutOrderSummary/CheckoutOrderSummary.style.scss ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720112325
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/component/CheckoutPayment/CheckoutPayment.style.scss":
/*!**********************************************************************!*\
  !*** ./src/app/component/CheckoutPayment/CheckoutPayment.style.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720115195
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/component/CheckoutPayments/CheckoutPayments.style.scss":
/*!************************************************************************!*\
  !*** ./src/app/component/CheckoutPayments/CheckoutPayments.style.scss ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720114820
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/component/CheckoutShipping/CheckoutShipping.component.js":
/*!**************************************************************************!*\
  !*** ./src/app/component/CheckoutShipping/CheckoutShipping.component.js ***!
  \**************************************************************************/
/*! exports provided: _CheckoutShipping, CheckoutShipping, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(Extensible, React, __, middleware) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_CheckoutShipping", function() { return _CheckoutShipping; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckoutShipping", function() { return CheckoutShipping; });
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _CheckoutAddressBook__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CheckoutAddressBook */ "./src/app/component/CheckoutAddressBook/index.js");
/* harmony import */ var _CheckoutDeliveryOptions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CheckoutDeliveryOptions */ "./src/app/component/CheckoutDeliveryOptions/index.js");
/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Form */ "./src/app/component/Form/index.js");
/* harmony import */ var _Loader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Loader */ "./src/app/component/Loader/index.js");
/* harmony import */ var _route_Checkout_Checkout_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../route/Checkout/Checkout.config */ "./src/app/route/Checkout/Checkout.config.js");
/* harmony import */ var _type_Checkout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../type/Checkout */ "./src/app/type/Checkout.js");
/* harmony import */ var _type_MiniCart__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../type/MiniCart */ "./src/app/type/MiniCart.js");
/* harmony import */ var _util_Price__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/Price */ "./src/app/util/Price/index.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * ScandiPWA - Progressive Web App for Magento
 *
 * Copyright © Scandiweb, Inc. All rights reserved.
 * See LICENSE for license details.
 *
 * @license OSL-3.0 (Open Software License ("OSL") v. 3.0)
 * @package scandipwa/base-theme
 * @link https://github.com/scandipwa/base-theme
 */










/** @namespace Component/CheckoutShipping/Component */

var _checkBEM = __webpack_require__(/*! babel-plugin-transform-rebem-jsx */ "./node_modules/babel-plugin-transform-rebem-jsx/build/index.js").checkBEMProps;

var _CheckoutShipping =
/*#__PURE__*/
function (_Extensible) {
  _inherits(_CheckoutShipping, _Extensible);

  function _CheckoutShipping() {
    _classCallCheck(this, _CheckoutShipping);

    return _possibleConstructorReturn(this, _getPrototypeOf(_CheckoutShipping).apply(this, arguments));
  }

  _createClass(_CheckoutShipping, [{
    key: "renderOrderTotal",
    value: function renderOrderTotal() {
      var _this$props$totals = this.props.totals,
          grand_total = _this$props$totals.grand_total,
          quote_currency_code = _this$props$totals.quote_currency_code;
      var orderTotal = Object(_util_Price__WEBPACK_IMPORTED_MODULE_9__["formatPrice"])(grand_total, quote_currency_code);
      return (
        /*#__PURE__*/
        _checkBEM(React, "div", {
          block: "Checkout",
          elem: "OrderTotal"
        },
        /*#__PURE__*/
        _checkBEM(React, "span", null, __('Order total:')),
        /*#__PURE__*/
        _checkBEM(React, "span", null, orderTotal))
      );
    }
  }, {
    key: "renderActions",
    value: function renderActions() {
      var selectedShippingMethod = this.props.selectedShippingMethod;
      return (
        /*#__PURE__*/
        _checkBEM(React, "div", {
          block: "Checkout",
          elem: "StickyButtonWrapper"
        }, this.renderOrderTotal(),
        /*#__PURE__*/
        _checkBEM(React, "button", {
          type: "submit",
          block: "Button",
          disabled: !selectedShippingMethod,
          mix: {
            block: 'CheckoutShipping',
            elem: 'Button'
          }
        }, __('Proceed to billing')))
      );
    }
  }, {
    key: "renderDelivery",
    value: function renderDelivery() {
      var _this$props = this.props,
          shippingMethods = _this$props.shippingMethods,
          onShippingMethodSelect = _this$props.onShippingMethodSelect;
      return (
        /*#__PURE__*/
        _checkBEM(React, _CheckoutDeliveryOptions__WEBPACK_IMPORTED_MODULE_3__["default"], {
          shippingMethods: shippingMethods,
          onShippingMethodSelect: onShippingMethodSelect
        })
      );
    }
  }, {
    key: "renderAddressBook",
    value: function renderAddressBook() {
      var _this$props2 = this.props,
          onAddressSelect = _this$props2.onAddressSelect,
          onShippingEstimationFieldsChange = _this$props2.onShippingEstimationFieldsChange;
      return (
        /*#__PURE__*/
        _checkBEM(React, _CheckoutAddressBook__WEBPACK_IMPORTED_MODULE_2__["default"], {
          onAddressSelect: onAddressSelect,
          onShippingEstimationFieldsChange: onShippingEstimationFieldsChange
        })
      );
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props3 = this.props,
          onShippingSuccess = _this$props3.onShippingSuccess,
          onShippingError = _this$props3.onShippingError,
          isLoading = _this$props3.isLoading;
      return (
        /*#__PURE__*/
        _checkBEM(React, _Form__WEBPACK_IMPORTED_MODULE_4__["default"], {
          id: _route_Checkout_Checkout_config__WEBPACK_IMPORTED_MODULE_6__["SHIPPING_STEP"],
          mix: {
            block: 'CheckoutShipping'
          },
          onSubmitError: onShippingError,
          onSubmitSuccess: onShippingSuccess
        }, this.renderAddressBook(),
        /*#__PURE__*/
        _checkBEM(React, "div", null,
        /*#__PURE__*/
        _checkBEM(React, _Loader__WEBPACK_IMPORTED_MODULE_5__["default"], {
          isLoading: isLoading
        }), this.renderDelivery(), this.renderActions()))
      );
    }
  }]);

  return _CheckoutShipping;
}(Extensible(react__WEBPACK_IMPORTED_MODULE_1__["PureComponent"]));
Object.defineProperty(_CheckoutShipping, 'name', {
  value: 'CheckoutShipping'
});

var CheckoutShipping = middleware(_CheckoutShipping, "Component/CheckoutShipping/Component");

_defineProperty(CheckoutShipping, "propTypes", {
  totals: _type_MiniCart__WEBPACK_IMPORTED_MODULE_8__["TotalsType"].isRequired,
  onShippingSuccess: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,
  onShippingError: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,
  onShippingEstimationFieldsChange: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,
  shippingMethods: _type_Checkout__WEBPACK_IMPORTED_MODULE_7__["shippingMethodsType"].isRequired,
  onShippingMethodSelect: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,
  selectedShippingMethod: _type_Checkout__WEBPACK_IMPORTED_MODULE_7__["shippingMethodType"],
  onAddressSelect: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,
  isLoading: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool.isRequired
});

_defineProperty(CheckoutShipping, "defaultProps", {
  selectedShippingMethod: null
});

/* harmony default export */ __webpack_exports__["default"] = (CheckoutShipping);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/config/Extensibility/Middleware/Extensible */ "./src/config/Extensibility/Middleware/Extensible.js"), __webpack_require__(/*! react */ "./node_modules/react/index.js"), __webpack_require__(/*! ./src/config/TranslationFunction */ "./src/config/TranslationFunction/index.js"), __webpack_require__(/*! ./src/config/Extensibility/Middleware */ "./src/config/Extensibility/Middleware/index.js")))

/***/ }),

/***/ "./src/app/component/CheckoutSuccess/CheckoutSuccess.style.scss":
/*!**********************************************************************!*\
  !*** ./src/app/component/CheckoutSuccess/CheckoutSuccess.style.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720112673
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/component/CheckoutTermsAndConditionsPopup/CheckoutTermsAndConditionsPopup.style.scss":
/*!******************************************************************************************************!*\
  !*** ./src/app/component/CheckoutTermsAndConditionsPopup/CheckoutTermsAndConditionsPopup.style.scss ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720114771
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/component/Klarna/Klarna.style.scss":
/*!****************************************************!*\
  !*** ./src/app/component/Klarna/Klarna.style.scss ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720114988
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/component/NotSupportedPayment/NotSupportedPayment.style.scss":
/*!******************************************************************************!*\
  !*** ./src/app/component/NotSupportedPayment/NotSupportedPayment.style.scss ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720115176
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "./src/app/route/Checkout/Checkout.container.js":
/*!******************************************************!*\
  !*** ./src/app/route/Checkout/Checkout.container.js ***!
  \******************************************************/
/*! exports provided: CartDispatcher, MyAccountDispatcher, CheckoutDispatcher, mapStateToProps, mapDispatchToProps, _CheckoutContainer, CheckoutContainer, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(middleware, Extensible, __, React) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CartDispatcher", function() { return CartDispatcher; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MyAccountDispatcher", function() { return MyAccountDispatcher; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckoutDispatcher", function() { return CheckoutDispatcher; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapStateToProps", function() { return mapStateToProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapDispatchToProps", function() { return mapDispatchToProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_CheckoutContainer", function() { return _CheckoutContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckoutContainer", function() { return CheckoutContainer; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _component_NavigationTabs_NavigationTabs_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../component/NavigationTabs/NavigationTabs.config */ "./src/app/component/NavigationTabs/NavigationTabs.config.js");
/* harmony import */ var _query_Checkout_query__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../query/Checkout.query */ "./src/app/query/Checkout.query.js");
/* harmony import */ var _query_MyAccount_query__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../query/MyAccount.query */ "./src/app/query/MyAccount.query.js");
/* harmony import */ var _store_Breadcrumbs_Breadcrumbs_action__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../store/Breadcrumbs/Breadcrumbs.action */ "./src/app/store/Breadcrumbs/Breadcrumbs.action.js");
/* harmony import */ var _store_Cart_Cart_dispatcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../store/Cart/Cart.dispatcher */ "./src/app/store/Cart/Cart.dispatcher.js");
/* harmony import */ var _store_Checkout_Checkout_action__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../store/Checkout/Checkout.action */ "./src/app/store/Checkout/Checkout.action.js");
/* harmony import */ var _store_Meta_Meta_action__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../store/Meta/Meta.action */ "./src/app/store/Meta/Meta.action.js");
/* harmony import */ var _store_Navigation_Navigation_action__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../store/Navigation/Navigation.action */ "./src/app/store/Navigation/Navigation.action.js");
/* harmony import */ var _store_Navigation_Navigation_reducer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../store/Navigation/Navigation.reducer */ "./src/app/store/Navigation/Navigation.reducer.js");
/* harmony import */ var _store_Notification_Notification_action__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../store/Notification/Notification.action */ "./src/app/store/Notification/Notification.action.js");
/* harmony import */ var _type_Account__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../type/Account */ "./src/app/type/Account.js");
/* harmony import */ var _type_Common__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../type/Common */ "./src/app/type/Common.js");
/* harmony import */ var _type_MiniCart__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../type/MiniCart */ "./src/app/type/MiniCart.js");
/* harmony import */ var _util_Auth__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../util/Auth */ "./src/app/util/Auth/index.js");
/* harmony import */ var _util_BrowserDatabase__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../util/BrowserDatabase */ "./src/app/util/BrowserDatabase/index.js");
/* harmony import */ var _util_History__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../util/History */ "./src/app/util/History/index.js");
/* harmony import */ var _util_Request__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../util/Request */ "./src/app/util/Request/index.js");
/* harmony import */ var _util_Request_QueryDispatcher__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../util/Request/QueryDispatcher */ "./src/app/util/Request/QueryDispatcher.js");
/* harmony import */ var _util_Url__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../util/Url */ "./src/app/util/Url/index.js");
/* harmony import */ var _Checkout_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Checkout.component */ "./src/app/route/Checkout/Checkout.component.js");
/* harmony import */ var _Checkout_config__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Checkout.config */ "./src/app/route/Checkout/Checkout.config.js");


function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _objectSpread2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * ScandiPWA - Progressive Web App for Magento
 *
 * Copyright © Scandiweb, Inc. All rights reserved.
 * See LICENSE for license details.
 *
 * @license OSL-3.0 (Open Software License ("OSL") v. 3.0)
 * @package scandipwa/base-theme
 * @link https://github.com/scandipwa/base-theme
 */
























var CartDispatcher = __webpack_require__.e(/*! import() | dispatchers */ "dispatchers").then(__webpack_require__.bind(null, /*! ../../store/Cart/Cart.dispatcher */ "./src/app/store/Cart/Cart.dispatcher.js"));
var MyAccountDispatcher = __webpack_require__.e(/*! import() | dispatchers */ "dispatchers").then(__webpack_require__.bind(null, /*! ../../store/MyAccount/MyAccount.dispatcher */ "./src/app/store/MyAccount/MyAccount.dispatcher.js"));
var CheckoutDispatcher = __webpack_require__.e(/*! import() | dispatchers */ "dispatchers").then(__webpack_require__.bind(null, /*! ../../store/Checkout/Checkout.dispatcher */ "./src/app/store/Checkout/Checkout.dispatcher.js"));
/** @namespace Route/Checkout/Container/mapStateToProps */

var mapStateToProps = middleware(function (state) {
  return {
    totals: state.CartReducer.cartTotals,
    customer: state.MyAccountReducer.customer,
    guest_checkout: state.ConfigReducer.guest_checkout,
    countries: state.ConfigReducer.countries,
    isEmailAvailable: state.CheckoutReducer.isEmailAvailable,
    isMobile: state.ConfigReducer.device.isMobile
  };
}, "Route/Checkout/Container/mapStateToProps");
/** @namespace Route/Checkout/Container/mapDispatchToProps */

var mapDispatchToProps = middleware(function (dispatch) {
  return {
    updateMeta: function updateMeta(meta) {
      return dispatch(Object(_store_Meta_Meta_action__WEBPACK_IMPORTED_MODULE_10__["updateMeta"])(meta));
    },
    resetCart: function resetCart() {
      return CartDispatcher.then(function (_ref) {
        var dispatcher = _ref.default;
        return dispatcher.updateInitialCartData(dispatch);
      });
    },
    resetGuestCart: function resetGuestCart() {
      return CartDispatcher.then(function (_ref2) {
        var dispatcher = _ref2.default;
        return dispatcher.resetGuestCart(dispatch);
      });
    },
    toggleBreadcrumbs: function toggleBreadcrumbs(state) {
      return dispatch(Object(_store_Breadcrumbs_Breadcrumbs_action__WEBPACK_IMPORTED_MODULE_7__["toggleBreadcrumbs"])(state));
    },
    showErrorNotification: function showErrorNotification(message) {
      return dispatch(Object(_store_Notification_Notification_action__WEBPACK_IMPORTED_MODULE_13__["showNotification"])('error', message));
    },
    showInfoNotification: function showInfoNotification(message) {
      return dispatch(Object(_store_Notification_Notification_action__WEBPACK_IMPORTED_MODULE_13__["showNotification"])('info', message));
    },
    showSuccessNotification: function showSuccessNotification(message) {
      return dispatch(Object(_store_Notification_Notification_action__WEBPACK_IMPORTED_MODULE_13__["showNotification"])('success', message));
    },
    setHeaderState: function setHeaderState(stateName) {
      return dispatch(Object(_store_Navigation_Navigation_action__WEBPACK_IMPORTED_MODULE_11__["changeNavigationState"])(_store_Navigation_Navigation_reducer__WEBPACK_IMPORTED_MODULE_12__["TOP_NAVIGATION_TYPE"], stateName));
    },
    setNavigationState: function setNavigationState(stateName) {
      return dispatch(Object(_store_Navigation_Navigation_action__WEBPACK_IMPORTED_MODULE_11__["changeNavigationState"])(_store_Navigation_Navigation_reducer__WEBPACK_IMPORTED_MODULE_12__["BOTTOM_NAVIGATION_TYPE"], stateName));
    },
    createAccount: function createAccount(options) {
      return MyAccountDispatcher.then(function (_ref3) {
        var dispatcher = _ref3.default;
        return dispatcher.createAccount(options, dispatch);
      });
    },
    updateShippingFields: function updateShippingFields(fields) {
      return dispatch(Object(_store_Checkout_Checkout_action__WEBPACK_IMPORTED_MODULE_9__["updateShippingFields"])(fields));
    },
    updateEmail: function updateEmail(email) {
      return dispatch(Object(_store_Checkout_Checkout_action__WEBPACK_IMPORTED_MODULE_9__["updateEmail"])(email));
    },
    checkEmailAvailability: function checkEmailAvailability(email) {
      return CheckoutDispatcher.then(function (_ref4) {
        var dispatcher = _ref4.default;
        return dispatcher.handleData(dispatch, email);
      });
    }
  };
}, "Route/Checkout/Container/mapDispatchToProps");
/** @namespace Route/Checkout/Container */

var _checkBEM = __webpack_require__(/*! babel-plugin-transform-rebem-jsx */ "./node_modules/babel-plugin-transform-rebem-jsx/build/index.js").checkBEMProps;

var _CheckoutContainer =
/*#__PURE__*/
function (_Extensible) {
  _inherits(_CheckoutContainer, _Extensible);

  function _CheckoutContainer() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, _CheckoutContainer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(_CheckoutContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "containerFunctions", {
      setLoading: _this.setLoading.bind(_assertThisInitialized(_this)),
      setDetailsStep: _this.setDetailsStep.bind(_assertThisInitialized(_this)),
      savePaymentInformation: _this.savePaymentInformation.bind(_assertThisInitialized(_this)),
      saveAddressInformation: _this.saveAddressInformation.bind(_assertThisInitialized(_this)),
      onShippingEstimationFieldsChange: _this.onShippingEstimationFieldsChange.bind(_assertThisInitialized(_this)),
      onEmailChange: _this.onEmailChange.bind(_assertThisInitialized(_this)),
      onCreateUserChange: _this.onCreateUserChange.bind(_assertThisInitialized(_this)),
      onPasswordChange: _this.onPasswordChange.bind(_assertThisInitialized(_this)),
      goBack: _this.goBack.bind(_assertThisInitialized(_this))
    });

    _defineProperty(_assertThisInitialized(_this), "checkEmailAvailability", Object(_util_Request__WEBPACK_IMPORTED_MODULE_20__["debounce"])(function (email) {
      var checkEmailAvailability = _this.props.checkEmailAvailability;
      checkEmailAvailability(email);
    }, _Checkout_config__WEBPACK_IMPORTED_MODULE_24__["UPDATE_EMAIL_CHECK_FREQUENCY"]));

    _defineProperty(_assertThisInitialized(_this), "setShippingAddress",
    /*#__PURE__*/
    _asyncToGenerator(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      var shippingAddress, region, region_id, address, mutation;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              shippingAddress = _this.state.shippingAddress;
              region = shippingAddress.region, region_id = shippingAddress.region_id, address = _objectWithoutProperties(shippingAddress, ["region", "region_id"]);
              mutation = _query_MyAccount_query__WEBPACK_IMPORTED_MODULE_6__["default"].getCreateAddressMutation(_objectSpread2(_objectSpread2({}, address), {}, {
                region: {
                  region: region,
                  region_id: region_id
                }
              }));
              _context.next = 5;
              return Object(_util_Request__WEBPACK_IMPORTED_MODULE_20__["fetchMutation"])(mutation);

            case 5:
              return _context.abrupt("return", true);

            case 6:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    })));

    _defineProperty(_assertThisInitialized(_this), "containerProps", function () {
      var paymentTotals = _this.state.paymentTotals;
      return {
        checkoutTotals: _this._getCheckoutTotals(),
        paymentTotals: paymentTotals
      };
    });

    _defineProperty(_assertThisInitialized(_this), "_handleError", function (error) {
      var showErrorNotification = _this.props.showErrorNotification;

      var _error = _slicedToArray(error, 1),
          _error$ = _error[0],
          message = _error$.message,
          debugMessage = _error$.debugMessage;

      _this.setState({
        isDeliveryOptionsLoading: false,
        isLoading: false
      }, function () {
        showErrorNotification(debugMessage || message);
      });

      return false;
    });

    _defineProperty(_assertThisInitialized(_this), "_getGuestCartId", function () {
      return _util_BrowserDatabase__WEBPACK_IMPORTED_MODULE_18__["default"].getItem(_store_Cart_Cart_dispatcher__WEBPACK_IMPORTED_MODULE_8__["GUEST_QUOTE_ID"]);
    });

    return _this;
  }

  _createClass(_CheckoutContainer, [{
    key: "__construct",
    value: function __construct(props) {
      _get(_getPrototypeOf(_CheckoutContainer.prototype), "__construct", this).call(this, props);

      var toggleBreadcrumbs = props.toggleBreadcrumbs,
          is_virtual = props.totals.is_virtual;
      toggleBreadcrumbs(false);
      this.state = {
        isLoading: is_virtual,
        isDeliveryOptionsLoading: false,
        requestsSent: 0,
        paymentMethods: [],
        shippingMethods: [],
        shippingAddress: {},
        checkoutStep: is_virtual ? _Checkout_config__WEBPACK_IMPORTED_MODULE_24__["BILLING_STEP"] : _Checkout_config__WEBPACK_IMPORTED_MODULE_24__["SHIPPING_STEP"],
        orderID: '',
        paymentTotals: _util_BrowserDatabase__WEBPACK_IMPORTED_MODULE_18__["default"].getItem(_Checkout_config__WEBPACK_IMPORTED_MODULE_24__["PAYMENT_TOTALS"]) || {},
        email: '',
        isGuestEmailSaved: false,
        isCreateUser: false
      };

      if (is_virtual) {
        this._getPaymentMethods();
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this$props = this.props,
          history = _this$props.history,
          showInfoNotification = _this$props.showInfoNotification,
          guest_checkout = _this$props.guest_checkout,
          updateMeta = _this$props.updateMeta,
          _this$props$totals$it = _this$props.totals.items,
          items = _this$props$totals$it === void 0 ? [] : _this$props$totals$it;

      if (!items.length) {
        showInfoNotification(__('Please add at least one product to cart!'));
        history.push(Object(_util_Url__WEBPACK_IMPORTED_MODULE_22__["appendWithStoreCode"])('/cart'));
      } // if guest checkout is disabled and user is not logged in => throw him to homepage


      if (!guest_checkout && !Object(_util_Auth__WEBPACK_IMPORTED_MODULE_17__["isSignedIn"])()) {
        history.push(Object(_util_Url__WEBPACK_IMPORTED_MODULE_22__["appendWithStoreCode"])('/'));
      }

      updateMeta({
        title: __('Checkout')
      });
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      var _this$props2 = this.props,
          urlStep = _this$props2.match.params.step,
          isEmailAvailable = _this$props2.isEmailAvailable,
          updateEmail = _this$props2.updateEmail;
      var prevUrlStep = prevProps.match.params.step;
      var email = this.state.email;
      var prevEmail = prevState.email; // Handle going back from billing to shipping

      if (/shipping/.test(urlStep) && /billing/.test(prevUrlStep)) {
        // eslint-disable-next-line react/no-did-update-set-state
        this.setState({
          checkoutStep: _Checkout_config__WEBPACK_IMPORTED_MODULE_24__["SHIPPING_STEP"],
          isGuestEmailSaved: false
        });
      }

      if (email !== prevEmail) {
        this.checkEmailAvailability(email);
      }

      if (!isEmailAvailable) {
        updateEmail(email);
      }

      return null;
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      var toggleBreadcrumbs = this.props.toggleBreadcrumbs;
      toggleBreadcrumbs(true);
    }
  }, {
    key: "onEmailChange",
    value: function onEmailChange(email) {
      this.setState({
        email: email
      });
    }
  }, {
    key: "onCreateUserChange",
    value: function onCreateUserChange() {
      var isCreateUser = this.state.isCreateUser;
      this.setState({
        isCreateUser: !isCreateUser
      });
    }
  }, {
    key: "onPasswordChange",
    value: function onPasswordChange(password) {
      this.setState({
        password: password
      });
    }
  }, {
    key: "onShippingEstimationFieldsChange",
    value: function onShippingEstimationFieldsChange(address) {
      var _this2 = this;

      var requestsSent = this.state.requestsSent;
      this.setState({
        isDeliveryOptionsLoading: true,
        requestsSent: requestsSent + 1
      });
      Object(_util_Request__WEBPACK_IMPORTED_MODULE_20__["fetchMutation"])(_query_Checkout_query__WEBPACK_IMPORTED_MODULE_5__["default"].getEstimateShippingCosts(address, this._getGuestCartId())).then(
      /** @namespace Route/Checkout/Container/onShippingEstimationFieldsChangeFetchMutationThen */
      middleware(function (_ref6) {
        var shippingMethods = _ref6.estimateShippingCosts;
        var requestsSent = _this2.state.requestsSent;

        _this2.setState({
          shippingMethods: shippingMethods,
          isDeliveryOptionsLoading: requestsSent > 1,
          requestsSent: requestsSent - 1
        });
      }, "Route/Checkout/Container/onShippingEstimationFieldsChangeFetchMutationThen"), this._handleError);
    }
  }, {
    key: "goBack",
    value: function goBack() {
      var checkoutStep = this.state.checkoutStep;

      if (checkoutStep === _Checkout_config__WEBPACK_IMPORTED_MODULE_24__["BILLING_STEP"]) {
        this.setState({
          isLoading: false,
          checkoutStep: _Checkout_config__WEBPACK_IMPORTED_MODULE_24__["SHIPPING_STEP"]
        });
        _util_BrowserDatabase__WEBPACK_IMPORTED_MODULE_18__["default"].deleteItem(_Checkout_config__WEBPACK_IMPORTED_MODULE_24__["PAYMENT_TOTALS"]);
      }

      _util_History__WEBPACK_IMPORTED_MODULE_19__["default"].goBack();
    }
  }, {
    key: "setDetailsStep",
    value: function setDetailsStep(orderID) {
      var _this$props3 = this.props,
          resetCart = _this$props3.resetCart,
          resetGuestCart = _this$props3.resetGuestCart,
          setNavigationState = _this$props3.setNavigationState; // For some reason not logged in user cart preserves qty in it

      if (!Object(_util_Auth__WEBPACK_IMPORTED_MODULE_17__["isSignedIn"])()) {
        _util_BrowserDatabase__WEBPACK_IMPORTED_MODULE_18__["default"].deleteItem(_store_Cart_Cart_dispatcher__WEBPACK_IMPORTED_MODULE_8__["GUEST_QUOTE_ID"]);
      }

      _util_BrowserDatabase__WEBPACK_IMPORTED_MODULE_18__["default"].deleteItem(_Checkout_config__WEBPACK_IMPORTED_MODULE_24__["PAYMENT_TOTALS"]); // For guest we can just update cart without creating new quote id

      if (Object(_util_Auth__WEBPACK_IMPORTED_MODULE_17__["isSignedIn"])()) {
        resetCart();
      } else {
        resetGuestCart();
      }

      this.setState({
        isLoading: false,
        paymentTotals: {},
        checkoutStep: _Checkout_config__WEBPACK_IMPORTED_MODULE_24__["DETAILS_STEP"],
        orderID: orderID
      });
      setNavigationState({
        name: _component_NavigationTabs_NavigationTabs_config__WEBPACK_IMPORTED_MODULE_4__["CART_TAB"]
      });
    }
  }, {
    key: "setLoading",
    value: function setLoading() {
      var isLoading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
      this.setState({
        isLoading: isLoading
      });
    }
  }, {
    key: "_getPaymentMethods",
    value: function _getPaymentMethods() {
      var _this3 = this;

      Object(_util_Request__WEBPACK_IMPORTED_MODULE_20__["fetchQuery"])(_query_Checkout_query__WEBPACK_IMPORTED_MODULE_5__["default"].getPaymentMethodsQuery(this._getGuestCartId())).then(
      /** @namespace Route/Checkout/Container/fetchQueryThen */
      middleware(function (_ref7) {
        var paymentMethods = _ref7.getPaymentMethods;

        _this3.setState({
          isLoading: false,
          paymentMethods: paymentMethods
        });
      }, "Route/Checkout/Container/fetchQueryThen"), this._handleError);
    }
  }, {
    key: "_getCheckoutTotals",
    value: function _getCheckoutTotals() {
      var cartTotals = this.props.totals;
      var shipping_amount = this.state.paymentTotals.shipping_amount;
      return shipping_amount ? _objectSpread2(_objectSpread2({}, cartTotals), {}, {
        shipping_amount: shipping_amount
      }) : cartTotals;
    }
  }, {
    key: "saveGuestEmail",
    value: function saveGuestEmail() {
      var _this4 = this;

      var email = this.state.email;
      var updateEmail = this.props.updateEmail;
      var guestCartId = _util_BrowserDatabase__WEBPACK_IMPORTED_MODULE_18__["default"].getItem(_store_Cart_Cart_dispatcher__WEBPACK_IMPORTED_MODULE_8__["GUEST_QUOTE_ID"]);
      var mutation = _query_Checkout_query__WEBPACK_IMPORTED_MODULE_5__["default"].getSaveGuestEmailMutation(email, guestCartId);
      updateEmail(email);
      return Object(_util_Request__WEBPACK_IMPORTED_MODULE_20__["fetchMutation"])(mutation).then(
      /** @namespace Route/Checkout/Container/saveGuestEmailFetchMutationThen */
      middleware(function (_ref8) {
        var data = _ref8.setGuestEmailOnCart;

        if (data) {
          _this4.setState({
            isGuestEmailSaved: true
          });
        }

        return data;
      }, "Route/Checkout/Container/saveGuestEmailFetchMutationThen"), this._handleError);
    }
  }, {
    key: "createUserOrSaveGuest",
    value: function () {
      var _createUserOrSaveGuest = _asyncToGenerator(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
        var _this$props4, createAccount, is_virtual, showSuccessNotification, _this$state, email, password, isCreateUser, _this$state$shippingA, firstname, lastname, options, creation;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _this$props4 = this.props, createAccount = _this$props4.createAccount, is_virtual = _this$props4.totals.is_virtual, showSuccessNotification = _this$props4.showSuccessNotification;
                _this$state = this.state, email = _this$state.email, password = _this$state.password, isCreateUser = _this$state.isCreateUser, _this$state$shippingA = _this$state.shippingAddress, firstname = _this$state$shippingA.firstname, lastname = _this$state$shippingA.lastname;

                if (isCreateUser) {
                  _context2.next = 4;
                  break;
                }

                return _context2.abrupt("return", this.saveGuestEmail());

              case 4:
                options = {
                  customer: {
                    email: email,
                    firstname: firstname,
                    lastname: lastname
                  },
                  password: password
                };
                _context2.next = 7;
                return createAccount(options);

              case 7:
                creation = _context2.sent;

                if (creation) {
                  _context2.next = 10;
                  break;
                }

                return _context2.abrupt("return", creation);

              case 10:
                showSuccessNotification(__('Your account has been created successfully!'));

                if (is_virtual) {
                  _context2.next = 13;
                  break;
                }

                return _context2.abrupt("return", this.setShippingAddress());

              case 13:
                return _context2.abrupt("return", true);

              case 14:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function createUserOrSaveGuest() {
        return _createUserOrSaveGuest.apply(this, arguments);
      }

      return createUserOrSaveGuest;
    }()
  }, {
    key: "saveAddressInformation",
    value: function () {
      var _saveAddressInformation = _asyncToGenerator(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(addressInformation) {
        var _this5 = this;

        var shipping_address;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                shipping_address = addressInformation.shipping_address;
                this.setState({
                  isLoading: true,
                  shippingAddress: shipping_address
                });

                if (Object(_util_Auth__WEBPACK_IMPORTED_MODULE_17__["isSignedIn"])()) {
                  _context3.next = 8;
                  break;
                }

                _context3.next = 5;
                return this.createUserOrSaveGuest();

              case 5:
                if (_context3.sent) {
                  _context3.next = 8;
                  break;
                }

                this.setState({
                  isLoading: false
                });
                return _context3.abrupt("return");

              case 8:
                Object(_util_Request__WEBPACK_IMPORTED_MODULE_20__["fetchMutation"])(_query_Checkout_query__WEBPACK_IMPORTED_MODULE_5__["default"].getSaveAddressInformation(addressInformation, this._getGuestCartId())).then(
                /** @namespace Route/Checkout/Container/saveAddressInformationFetchMutationThen */
                middleware(function (_ref9) {
                  var data = _ref9.saveAddressInformation;
                  var payment_methods = data.payment_methods,
                      totals = data.totals;
                  _util_BrowserDatabase__WEBPACK_IMPORTED_MODULE_18__["default"].setItem(totals, _Checkout_config__WEBPACK_IMPORTED_MODULE_24__["PAYMENT_TOTALS"], _util_Request_QueryDispatcher__WEBPACK_IMPORTED_MODULE_21__["ONE_MONTH_IN_SECONDS"]);

                  _this5.setState({
                    isLoading: false,
                    paymentMethods: payment_methods,
                    checkoutStep: _Checkout_config__WEBPACK_IMPORTED_MODULE_24__["BILLING_STEP"],
                    paymentTotals: totals
                  });
                }, "Route/Checkout/Container/saveAddressInformationFetchMutationThen"), this._handleError);

              case 9:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function saveAddressInformation(_x) {
        return _saveAddressInformation.apply(this, arguments);
      }

      return saveAddressInformation;
    }()
  }, {
    key: "savePaymentInformation",
    value: function () {
      var _savePaymentInformation = _asyncToGenerator(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(paymentInformation) {
        var _this6 = this;

        var is_virtual, _paymentInformation$b, billingFirstName, billingLastName;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                is_virtual = this.props.totals.is_virtual;
                _paymentInformation$b = paymentInformation.billing_address, billingFirstName = _paymentInformation$b.firstname, billingLastName = _paymentInformation$b.lastname;
                /**
                 * If cart contains only virtual products then set firstname & lastname
                 * from billing step into shippingAddress for user creating.
                 */

                if (is_virtual) {
                  this.setState({
                    shippingAddress: {
                      firstname: billingFirstName,
                      lastname: billingLastName
                    }
                  });
                }

                this.setState({
                  isLoading: true
                });

                if (Object(_util_Auth__WEBPACK_IMPORTED_MODULE_17__["isSignedIn"])()) {
                  _context4.next = 10;
                  break;
                }

                _context4.next = 7;
                return this.createUserOrSaveGuest();

              case 7:
                if (_context4.sent) {
                  _context4.next = 10;
                  break;
                }

                this.setState({
                  isLoading: false
                });
                return _context4.abrupt("return");

              case 10:
                _context4.next = 12;
                return this.saveBillingAddress(paymentInformation).then(
                /** @namespace Route/Checkout/Container/saveBillingAddressThen */
                middleware(function () {
                  return _this6.savePaymentMethodAndPlaceOrder(paymentInformation);
                }, "Route/Checkout/Container/saveBillingAddressThen"), this._handleError);

              case 12:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function savePaymentInformation(_x2) {
        return _savePaymentInformation.apply(this, arguments);
      }

      return savePaymentInformation;
    }()
  }, {
    key: "trimAddressMagentoStyle",
    value: function trimAddressMagentoStyle(address) {
      var countries = this.props.countries;

      var country_id = address.country_id,
          region_code = address.region_code,
          region_id = address.region_id,
          region = address.region,
          restOfBillingAddress = _objectWithoutProperties(address, ["country_id", "region_code", "region_id", "region"]);

      var newAddress = _objectSpread2(_objectSpread2({}, restOfBillingAddress), {}, {
        country_code: country_id,
        region: region
      });
      /**
       * If there is no region specified, but there is region ID
       * get the region code by the country ID
       */


      if (region_id) {
        // find a country by country ID
        var _ref10 = countries.find(function (_ref11) {
          var id = _ref11.id;
          return id === country_id;
        }) || {},
            available_regions = _ref10.available_regions;

        if (!available_regions) {
          return newAddress;
        } // find region by region ID


        var _ref12 = available_regions.find(function (_ref13) {
          var id = _ref13.id;
          return +id === +region_id;
        }) || {},
            code = _ref12.code;

        if (!code) {
          return newAddress;
        }

        newAddress.region = code;
      }

      return newAddress;
    }
  }, {
    key: "saveBillingAddress",
    value: function () {
      var _saveBillingAddress = _asyncToGenerator(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(paymentInformation) {
        var guest_cart_id, billing_address;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                guest_cart_id = !Object(_util_Auth__WEBPACK_IMPORTED_MODULE_17__["isSignedIn"])() ? this._getGuestCartId() : '';
                billing_address = paymentInformation.billing_address;
                _context5.next = 4;
                return Object(_util_Request__WEBPACK_IMPORTED_MODULE_20__["fetchMutation"])(_query_Checkout_query__WEBPACK_IMPORTED_MODULE_5__["default"].getSetBillingAddressOnCart({
                  guest_cart_id: guest_cart_id,
                  billing_address: {
                    address: this.trimAddressMagentoStyle(billing_address)
                  }
                }));

              case 4:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function saveBillingAddress(_x3) {
        return _saveBillingAddress.apply(this, arguments);
      }

      return saveBillingAddress;
    }()
  }, {
    key: "savePaymentMethodAndPlaceOrder",
    value: function () {
      var _savePaymentMethodAndPlaceOrder = _asyncToGenerator(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(paymentInformation) {
        var _paymentInformation$p, code, additional_data, guest_cart_id, orderData, order_id;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                _paymentInformation$p = paymentInformation.paymentMethod, code = _paymentInformation$p.code, additional_data = _paymentInformation$p.additional_data;
                guest_cart_id = !Object(_util_Auth__WEBPACK_IMPORTED_MODULE_17__["isSignedIn"])() ? this._getGuestCartId() : '';
                _context6.prev = 2;
                _context6.next = 5;
                return Object(_util_Request__WEBPACK_IMPORTED_MODULE_20__["fetchMutation"])(_query_Checkout_query__WEBPACK_IMPORTED_MODULE_5__["default"].getSetPaymentMethodOnCartMutation({
                  guest_cart_id: guest_cart_id,
                  payment_method: _defineProperty({
                    code: code
                  }, code, additional_data)
                }));

              case 5:
                _context6.next = 7;
                return Object(_util_Request__WEBPACK_IMPORTED_MODULE_20__["fetchMutation"])(_query_Checkout_query__WEBPACK_IMPORTED_MODULE_5__["default"].getPlaceOrderMutation(guest_cart_id));

              case 7:
                orderData = _context6.sent;
                order_id = orderData.placeOrder.order.order_id;
                this.setDetailsStep(order_id);
                _context6.next = 15;
                break;

              case 12:
                _context6.prev = 12;
                _context6.t0 = _context6["catch"](2);

                this._handleError(_context6.t0);

              case 15:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this, [[2, 12]]);
      }));

      function savePaymentMethodAndPlaceOrder(_x4) {
        return _savePaymentMethodAndPlaceOrder.apply(this, arguments);
      }

      return savePaymentMethodAndPlaceOrder;
    }()
  }, {
    key: "render",
    value: function render() {
      return (
        /*#__PURE__*/
        _checkBEM(React, _Checkout_component__WEBPACK_IMPORTED_MODULE_23__["default"], _extends({}, this.props, this.state, this.containerFunctions, this.containerProps()))
      );
    }
  }]);

  return _CheckoutContainer;
}(Extensible(react__WEBPACK_IMPORTED_MODULE_2__["PureComponent"]));
Object.defineProperty(_CheckoutContainer, 'name', {
  value: 'CheckoutContainer'
});

var CheckoutContainer = middleware(_CheckoutContainer, "Route/Checkout/Container");

_defineProperty(CheckoutContainer, "propTypes", {
  showErrorNotification: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  showInfoNotification: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  showSuccessNotification: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  toggleBreadcrumbs: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  setNavigationState: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  createAccount: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  updateMeta: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  resetCart: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  resetGuestCart: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  guest_checkout: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  totals: _type_MiniCart__WEBPACK_IMPORTED_MODULE_16__["TotalsType"].isRequired,
  history: _type_Common__WEBPACK_IMPORTED_MODULE_15__["HistoryType"].isRequired,
  customer: _type_Account__WEBPACK_IMPORTED_MODULE_14__["customerType"].isRequired,
  countries: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    label: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    available_regions: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      code: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
    }))
  })).isRequired,
  match: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    params: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      step: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
    })
  }).isRequired,
  updateShippingFields: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  updateEmail: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  checkEmailAvailability: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  isEmailAvailable: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(mapStateToProps, mapDispatchToProps)(CheckoutContainer));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/config/Extensibility/Middleware */ "./src/config/Extensibility/Middleware/index.js"), __webpack_require__(/*! ./src/config/Extensibility/Middleware/Extensible */ "./src/config/Extensibility/Middleware/Extensible.js"), __webpack_require__(/*! ./src/config/TranslationFunction */ "./src/config/TranslationFunction/index.js"), __webpack_require__(/*! react */ "./node_modules/react/index.js")))

/***/ }),

/***/ "./src/app/route/Checkout/Checkout.style.scss":
/*!****************************************************!*\
  !*** ./src/app/route/Checkout/Checkout.style.scss ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1605720109908
      var cssReload = __webpack_require__(/*! ../../../../node_modules/css-hot-loader/hotModuleReplacement.js */ "./node_modules/css-hot-loader/hotModuleReplacement.js")(module.i, {"fileMap":"{fileName}"});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);;
    }
  

/***/ }),

/***/ "?1821":
false,

/***/ "?186e":
false,

/***/ "?1e33":
false,

/***/ "?2492":
false,

/***/ "?260f":
false,

/***/ "?427a":
false,

/***/ "?56aa":
false,

/***/ "?5e40":
false,

/***/ "?60ed":
false,

/***/ "?6cbe":
false,

/***/ "?6f4a":
false,

/***/ "?8a7d":
false,

/***/ "?9608":
false,

/***/ "?a887":
false,

/***/ "?af4f":
false

})
//# sourceMappingURL=checkout.852398837cad8beb1dc3.hot-update.js.map