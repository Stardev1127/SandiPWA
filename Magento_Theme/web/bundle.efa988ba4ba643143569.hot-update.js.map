{"version":3,"sources":["webpack:///./src/app/component/CookiePopup/CookiePopup.component.js","webpack:///./src/app/component/CookiePopup/CookiePopup.container.js","webpack:///./src/app/query/Config.query.js"],"names":["CookiePopup","isAccepted","getAcceptCookieValue","code","props","param","COOKIE_POPUP","BrowserDatabase","setItem","ONE_MONTH_IN_SECONDS","setState","getItem","cookieLink","__","cookieText","renderCookieLink","acceptCookies","state","block","elem","renderCookieText","renderCTA","Object","defineProperty","_CookiePopup","value","PropTypes","string","mapStateToProps","ConfigReducer","cookie_text","cookie_link","mapDispatchToProps","dispatch","CookiePopupContainer","_CookiePopupContainer","connect","ConfigQuery","Field","addFieldList","_getStoreListFields","_getCheckoutAgreementFields","getCurrencyField","newCurrency","addArgument","getCurrencyData","_getStoreConfigFields","_ConfigQuery"],"mappings":"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","file":"bundle.efa988ba4ba643143569.hot-update.js","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport Link from 'Component/Link';\nimport BrowserDatabase from 'Util/BrowserDatabase';\nimport { ONE_MONTH_IN_SECONDS } from 'Util/Request/QueryDispatcher';\n\nimport { COOKIE_POPUP } from './CookiePopup.config';\n\nimport './CookiePopup.style';\n\n/** @namespace Component/CookiePopup/Component */\nexport class CookiePopup extends PureComponent {\n    static propTypes = {\n        cookieText: PropTypes.string,\n        cookieLink: PropTypes.string,\n        code: PropTypes.string\n    };\n\n    static defaultProps = {\n        cookieText: '',\n        cookieLink: '',\n        code: ''\n    };\n\n    state = {\n        isAccepted: this.getAcceptCookieValue()\n    };\n\n    getAcceptCookieValue() {\n        const { code } = this.props;\n        const param = `${ COOKIE_POPUP }_${ code }`;\n\n        return !!BrowserDatabase.getItem(param);\n    }\n\n    acceptCookies = () => {\n        const { code } = this.props;\n        const param = `${ COOKIE_POPUP }_${ code }`;\n\n        BrowserDatabase.setItem(true, param, ONE_MONTH_IN_SECONDS);\n        this.setState({ isAccepted: true });\n    };\n\n    renderCookieLink() {\n        const { cookieLink } = this.props;\n\n        if (!cookieLink) {\n            return null;\n        }\n\n        return (\n            <Link\n              block=\"CookiePopup\"\n              elem=\"Link\"\n              to={ cookieLink }\n            >\n                { __('Read more') }\n            </Link>\n        );\n    }\n\n    renderCookieText() {\n        const { cookieText } = this.props;\n\n        return (\n            <p block=\"CookiePopup\" elem=\"Content\">\n                { cookieText }\n                { this.renderCookieLink() }\n            </p>\n        );\n    }\n\n    renderCTA() {\n        return (\n            <div block=\"CookiePopup\" elem=\"CTA\">\n                <button block=\"Button\" onClick={ this.acceptCookies }>\n                    { __('Accept') }\n                </button>\n            </div>\n        );\n    }\n\n    render() {\n        const { cookieText } = this.props;\n        const { isAccepted } = this.state;\n\n        if (!cookieText || isAccepted) {\n            return null;\n        }\n\n        return (\n            <div block=\"CookiePopup\">\n                <ContentWrapper\n                  label=\"Cookie popup\"\n                  mix={ { block: 'CookiePopup', elem: 'Wrapper' } }\n                  wrapperMix={ { block: 'CookiePopup', elem: 'ContentWrapper' } }\n                >\n                    { this.renderCookieText() }\n                    { this.renderCTA() }\n                </ContentWrapper>\n            </div>\n        );\n    }\n}\n\nexport default CookiePopup;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport CookiePopup from './CookiePopup.component';\n\n/** @namespace Component/CookiePopup/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    cookieText: state.ConfigReducer.cookie_text,\n    cookieLink: state.ConfigReducer.cookie_link,\n    code: state.ConfigReducer.code\n});\n\n/** @namespace Component/CookiePopup/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\n/** @namespace Component/CookiePopup/Container */\nexport class CookiePopupContainer extends PureComponent {\n    static propTypes = {\n        code: PropTypes.string\n    };\n\n    static defaultProps = {\n        code: ''\n    };\n\n    render() {\n        const { code } = this.props;\n\n        return (\n            <CookiePopup\n              { ...this.props }\n              key={ code }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CookiePopupContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { Field } from 'Util/Query';\n\n/** @namespace Query/Config */\nexport class ConfigQuery {\n    getStoreListField() {\n        return new Field('storeList')\n            .addFieldList(this._getStoreListFields());\n    }\n\n    getCheckoutAgreements() {\n        return new Field('checkoutAgreements')\n            .addFieldList(this._getCheckoutAgreementFields());\n    }\n\n    getCurrencyField() {\n        return new Field('available_currencies_data')\n            .addFieldList([\n                'id',\n                'label',\n                'value'\n            ]);\n    }\n\n    getCurrencyData() {\n        return new Field('currencyData')\n            .addFieldList([\n                this.getCurrencyField(),\n                'current_currency_code'\n            ]);\n    }\n\n    getSaveSelectedCurrencyMutation(newCurrency) {\n        return new Field('saveSelectedCurrency')\n            .addArgument('currency', 'String', newCurrency)\n            .addFieldList([\n                this.getCurrencyData()\n            ]);\n    }\n\n    _getCheckoutAgreementFields() {\n        return [\n            'agreement_id',\n            'checkbox_text',\n            'content',\n            'content_height',\n            'is_html',\n            'mode',\n            'name'\n        ];\n    }\n\n    _getStoreListFields() {\n        return [\n            'name',\n            'is_active',\n            'base_url',\n            'base_link_url',\n            'code'\n        ];\n    }\n\n    getQuery() {\n        return new Field('storeConfig')\n            .addFieldList(this._getStoreConfigFields());\n    }\n\n    _getStoreConfigFields() {\n        return [\n            'code',\n            'is_active',\n            'cms_home_page',\n            'cms_no_route',\n            'copyright',\n            'timezone',\n            'header_logo_src',\n            'timezone',\n            'title_prefix',\n            'title_suffix',\n            'default_display_currency_code',\n            'default_keywords',\n            'default_title',\n            'default_country',\n            'secure_base_media_url',\n            // 'paypal_sandbox_flag',\n            // 'paypal_client_id',\n            'logo_alt',\n            'logo_height',\n            'logo_width',\n            'cookie_text',\n            'cookie_link',\n            'terms_are_enabled',\n            'address_lines_quantity',\n            'base_url',\n            'pagination_frame',\n            'pagination_frame_skip',\n            'anchor_text_for_previous',\n            'anchor_text_for_next',\n            'reviews_are_enabled',\n            'reviews_allow_guest',\n            'demo_notice',\n            'guest_checkout',\n            'is_email_confirmation_required',\n            'base_link_url'\n        ];\n    }\n}\n\nexport default new ConfigQuery();\n"],"sourceRoot":""}